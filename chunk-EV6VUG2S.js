import{d as x,g as S}from"./chunk-D3W5EOCM.js";import{a as k,b as L,c as O,d as E,e as N,f as z,g as I,h as T}from"./chunk-VRBJANGE.js";import{$a as m,Da as g,Db as y,Ha as _,Ra as M,Sa as C,Wa as w,Xa as t,Ya as n,ab as P,cb as o,d as c,eb as u,ga as p,gb as b,hb as f,ib as h,ua as a,zb as v}from"./chunk-WP3N6ZDD.js";function D(d,s){if(d&1&&(t(0,"div",9),o(1),n()),d&2){let i=P();a(),u(" ",i.errorMessage()," ")}}var A=class d{constructor(s,i,e){this.authService=s;this.supabase=i;this.router=e}email="";password="";errorMessage=p("");isLoading=p(!1);login(){return c(this,null,function*(){this.isLoading.set(!0),this.errorMessage.set(""),(yield this.authService.login(this.email,this.password))?this.router.navigate(["/admin/edit"]):(this.errorMessage.set("Invalid email or password. Please try again."),this.password=""),this.isLoading.set(!1)})}forgotPassword(){return c(this,null,function*(){if(!this.email){this.errorMessage.set("Please enter your email address first.");return}this.isLoading.set(!0),this.errorMessage.set("");try{yield this.supabase.resetPasswordForEmail(this.email),alert("Password reset email sent! Check your inbox.")}catch(s){this.errorMessage.set(s.message||"Failed to send reset email.")}finally{this.isLoading.set(!1)}})}goBack(){this.router.navigate(["/"])}static \u0275fac=function(i){return new(i||d)(g(S),g(y),g(x))};static \u0275cmp=_({type:d,selectors:[["app-login"]],decls:22,vars:5,consts:[[1,"login-container"],[1,"login-box"],[1,"subtitle"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","placeholder","Enter your email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","placeholder","Enter password","required","",3,"ngModelChange","ngModel"],[1,"error-message"],["type","submit",1,"login-btn",3,"disabled"],[1,"back-btn",3,"click"],[1,"forgot-password-btn",3,"click"]],template:function(i,e){i&1&&(t(0,"div",0)(1,"div",1)(2,"h1"),o(3,"Admin Login"),n(),t(4,"p",2),o(5,"Portfolio Editor Access"),n(),t(6,"form",3),m("ngSubmit",function(){return e.login()}),t(7,"div",4)(8,"label",5),o(9,"Email"),n(),t(10,"input",6),h("ngModelChange",function(r){return f(e.email,r)||(e.email=r),r}),n()(),t(11,"div",4)(12,"label",7),o(13,"Password"),n(),t(14,"input",8),h("ngModelChange",function(r){return f(e.password,r)||(e.password=r),r}),n()(),M(15,D,2,1,"div",9),t(16,"button",10),o(17),n()(),t(18,"button",11),m("click",function(){return e.goBack()}),o(19," Back to Portfolio "),n(),t(20,"button",12),m("click",function(){return e.forgotPassword()}),o(21," Forgot Password? "),n()()()),i&2&&(a(10),b("ngModel",e.email),a(4),b("ngModel",e.password),a(),C(e.errorMessage()?15:-1),a(),w("disabled",e.isLoading()),a(),u(" ",e.isLoading()?"Logging in...":"Login"," "))},dependencies:[v,T,z,k,L,O,I,N,E],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#1a1a1a,#2d2d2d);padding:2rem}.login-box[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:3rem;max-width:400px;width:100%;box-shadow:0 10px 40px #0000004d}.login-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;margin:0 0 .5rem;color:#111827;text-align:center}.login-box[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{text-align:center;color:#6b7280;margin-bottom:2rem;font-weight:500}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:.5rem;color:#111827;font-size:.9rem;letter-spacing:.3px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.875rem;border:2px solid #d1d5db;border-radius:6px;font-family:inherit;font-size:1rem;transition:all .2s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#111827;background:#f9fafb}.error-message[_ngcontent-%COMP%]{background:#fee2e2;border:2px solid #ef4444;color:#991b1b;padding:.875rem;border-radius:6px;margin-bottom:1rem;font-weight:600;font-size:.9rem}.login-btn[_ngcontent-%COMP%]{width:100%;background:#111827;color:#fff;border:none;padding:1rem;font-weight:700;cursor:pointer;border-radius:6px;font-size:1rem;letter-spacing:.5px;transition:all .2s;margin-bottom:1rem}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#374151}.login-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.back-btn[_ngcontent-%COMP%]{width:100%;background:transparent;color:#6b7280;border:2px solid #d1d5db;padding:.875rem;font-weight:600;cursor:pointer;border-radius:6px;font-size:.9rem;transition:all .2s;margin-bottom:1rem}.back-btn[_ngcontent-%COMP%]:hover{background:#f9fafb;color:#111827;border-color:#111827}.forgot-password-btn[_ngcontent-%COMP%]{width:100%;background:none;border:none;color:#6b7280;padding:.5rem;font-weight:500;cursor:pointer;font-size:.9rem;text-decoration:underline;transition:all .2s}.forgot-password-btn[_ngcontent-%COMP%]:hover{color:#111827}@media (max-width: 480px){.login-box[_ngcontent-%COMP%]{padding:2rem 1.5rem}}"]})};export{A as LoginComponent};
